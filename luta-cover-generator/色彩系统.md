# Luta 封面生成器 - 色彩系统

## 一、五方佛五色体系

基于传统五方佛色彩象征，每色提供 6 个变体（从极浅到中等）。

### 蓝（东方）
**含义**：澄明、冷静、深邃

| 名称 | 色号 | 明度 | 饱和度 |
|------|------|------|--------|
| ice-blue | `#E8F4FC` | 95% | 15% |
| sky-mist | `#D6EAF8` | 92% | 22% |
| soft-azure | `#AED6F1` | 85% | 35% |
| powder-blue | `#85C1E9` | 78% | 45% |
| clear-cyan | `#E0F7FA` | 94% | 20% |
| serene-blue | `#B3E5FC` | 88% | 30% |

### 黄（南方）
**含义**：温暖、开阔、滋养

| 名称 | 色号 | 明度 | 饱和度 |
|------|------|------|--------|
| cream-yellow | `#FFF9E6` | 97% | 10% |
| soft-gold | `#FFF3CD` | 95% | 20% |
| warm-amber | `#FFE9B3` | 92% | 30% |
| honey-light | `#FFE082` | 88% | 40% |
| butter | `#FFF8E1` | 96% | 15% |
| sunlight | `#FFECB3` | 93% | 28% |

### 红（西方）
**含义**：力量、温热、精进

| 名称 | 色号 | 明度 | 饱和度 |
|------|------|------|--------|
| blush | `#FFEBEE` | 96% | 8% |
| rose-mist | `#FFCDD2` | 90% | 18% |
| coral-light | `#FFAB91` | 82% | 35% |
| peach | `#FFCCBC` | 88% | 25% |
| warm-rose | `#F8BBD9` | 85% | 28% |
| terracotta-light | `#FFCCBC` | 88% | 22% |

### 绿（北方）
**含义**：生机、平衡、流动

| 名称 | 色号 | 明度 | 饱和度 |
|------|------|------|--------|
| mint-mist | `#E8F5E9` | 96% | 10% |
| soft-sage | `#C8E6C9` | 90% | 20% |
| spring-green | `#A5D6A7` | 84% | 30% |
| jade-light | `#B2DFDB` | 88% | 25% |
| eucalyptus | `#E0F2F1` | 95% | 12% |
| celadon | `#DCEDC8` | 92% | 18% |

### 白（中央）
**含义**：清净、澄澈、空灵

| 名称 | 色号 | 明度 | 饱和度 |
|------|------|------|--------|
| pure-white | `#FFFFFF` | 100% | 0% |
| cloud-white | `#FAFAFA` | 98% | 0% |
| fog-white | `#F5F5F5` | 96% | 0% |
| pearl | `#F8F9FA` | 97% | 2% |
| silk | `#FCFCFC` | 99% | 0% |
| moon-white | `#F0F4F8` | 95% | 5% |

---

## 二、背景色系统

高明度中性背景色，区分冷暖倾向：

| 名称 | 色号 | 温度 |
|------|------|------|
| paper-white | `#F6F4EE` | 暖 |
| mist-white | `#F3F5F6` | 冷 |
| warm-beige | `#F7F2E8` | 暖 |
| soft-gray | `#F0F0F0` | 中性 |
| cream | `#FFFEF5` | 暖 |
| cool-mist | `#F5F7FA` | 冷 |
| ivory | `#FFFFF0` | 暖 |
| snow | `#FFFAFA` | 中性 |

---

## 三、六度配色规则

每个度有专属的色彩策略：

### 布施（Dana）
- **主色相**：黄、绿
- **对比色**：蓝、红（小面积）
- **背景温度**：暖
- **最低明度**：85%
- **最高饱和度**：35%
- **对比色概率**：70%
- **对比策略**：area, brightness, warm-cool
- **规则**：倾向温暖轻盈，高明度黄/绿为主，蓝/红点缀

### 持戒（Sila）
- **主色相**：白、蓝、绿
- **对比色**：红、黄（极小面积）
- **背景温度**：冷
- **最低明度**：88%
- **最高饱和度**：25%
- **对比色概率**：35%
- **对比策略**：brightness, area, none
- **规则**：倾向清净克制，高明度白/蓝/绿，极少红或黄警醒

### 忍辱（Ksanti）
- **主色相**：白、蓝、绿
- **对比色**：红、黄（更轻更小面积）
- **背景温度**：中性
- **最低明度**：85%
- **最高饱和度**：28%
- **对比色概率**：40%
- **对比策略**：layering, brightness, none
- **规则**：柔和冷色或中性色，避免刺激性色彩

### 精进（Virya）
- **主色相**：红、黄
- **对比色**：蓝、绿（冷色平衡）
- **背景温度**：暖
- **最低明度**：82%
- **最高饱和度**：40%
- **对比色概率**：75%
- **对比策略**：brightness, area, warm-cool
- **规则**：明快而不躁，暖色为主（红/黄），配冷色点缀平衡

### 禅定（Samadhi）
- **主色相**：白、蓝、绿
- **对比色**：黄（避免红色，极少量黄）
- **背景温度**：冷
- **最低明度**：90%
- **最高饱和度**：20%
- **对比色概率**：15%
- **对比策略**：none, brightness
- **规则**：冷色或中性白为主，极高明度，配色最少

### 般若（Prajna）
- **主色相**：白、蓝、黄
- **对比色**：绿、红（小面积点醒）
- **背景温度**：冷
- **最低明度**：85%
- **最高饱和度**：32%
- **对比色概率**：80%
- **对比策略**：warm-cool, brightness, area
- **规则**：澄明洞见，高明度白/蓝/黄，冷暖对照

---

## 四、对比策略说明

| 策略 | 说明 |
|------|------|
| **area** | 面积对比，大面积主色 + 小面积点缀 |
| **brightness** | 明度对比，同色相不同明度层次 |
| **warm-cool** | 冷暖对比，暖主色配冷点缀或反之 |
| **layering** | 层次叠加，透明度渐变 |
| **none** | 无对比，纯净单色方案 |

---

## 五、色彩硬约束

- 有色相颜色 ≤ 3
- 中性背景色 = 1
- 主色必须为高明度版本
- 禁止荧光/霓虹感
- 缩略到 128px 仍需清爽

---

## 六、配色生成算法

```javascript
// 1. 根据度选择主色相
const primaryHue = pickOne(rule.primaryHues);
const primaryVariant = selectColorVariant(primaryHue, rule.brightnessMin, rule.saturationMax);

// 2. 选择对比策略
const contrastMethod = pickOne(rule.allowedContrastMethods);

// 3. 概率决定是否使用对比色
const useAccent = contrastMethod !== 'none' && Math.random() < rule.accentProbability;
const accentHue = useAccent ? pickOne(rule.accentHues) : null;

// 4. 对比色使用强度
const accentAreaPct = accentVariant ? randFloat(2, 10) : 0;  // 面积占比 2-10%
const accentOpacityPct = accentVariant ? randFloat(12, 22) : 0;  // 不透明度 12-22%

// 5. 选择匹配温度的背景色
const bgColor = pickOne(BACKGROUND_COLORS.filter(bg => 
  bg.temp === rule.bgTempPrefer || bg.temp === 'neutral'
));
```

---

## 七、Prompt 中的色彩描述示例

```
[COLOR]
- Background: paper-white (#F6F4EE)
- Primary hue: 黄 (cream-yellow #FFF9E6, brightness 97%)
- Secondary hue: 蓝 (ice-blue #E8F4FC) - small accent
- Temperature: warm, guided by Dana degree
- Contrast method: area - large yellow mass with tiny blue accent
- Accent usage: 5% area, 15% opacity, as subtle highlight
```


